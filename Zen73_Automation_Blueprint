blueprint:
  name: Zooz Zen73 Template
  description: Create automations for Zooz Zen73 Switches using scenes
  source_url: https://github.com/willheineman/homeassistant/blob/main/components/automation/blueprints/zooz_zen_blueprint_template.yaml
  domain: automation
  input:
    zooz_switch:
      name: Zooz Zen73 Switch
      description: "Select the Zooz Zen73 switch to configure."
      selector:
        entity:
          integration: zwave_js
          domain: switch

    on_1x:
      name: Press On (1x)
      description: Action to run on button press.
      default: []
      selector:
        action: {}
    on_2x:
      name: Press On (2x)
      description: Action to run on button press.
      default: []
      selector:
        action: {}
    on_3x:
      name: Press On (3x)
      description: Action to run on button press.
      default: []
      selector:
        action: {}
    on_4x:
      name: Press On (4x)
      description: Action to run on button press.
      default: []
      selector:
        action: {}
    on_5x:
      name: Press On (5x)
      description: Action to run on button press.
      default: []
      selector:
        action: {}
    on_held:
      name: Press On (held)
      description: Action to run on button press.
      default: []
      selector:
        action: {}
    off_1x:
      name: Press Off (1x)
      description: Action to run on button press.
      default: []
      selector:
        action: {}
    off_2x:
      name: Press Off (2x)
      description: Action to run on button press.
      default: []
      selector:
        action: {}
    off_3x:
      name: Press Off (3x)
      description: Action to run on button press.
      default: []
      selector:
        action: {}
    off_4x:
      name: Press Off (4x)
      description: Action to run on button press.
      default: []
      selector:
        action: {}
    off_5x:
      name: Press Off (5x)
      description: Action to run on button press.
      default: []
      selector:
        action: {}
    off_held:
      name: Press Off (held)
      description: Action to run on button press.
      default: []
      selector:
        action: {}
    on_released:
      name: Release On
      description: Action to run on button press.
      default: []
      selector:
        action: {}
    off_released:
      name: Release Off
      description: Action to run on button press.
      default: []
      selector:
        action: {}

mode: single
max_exceeded: silent

variables:
  device_id: !input zooz_switch

trigger:
  - platform: event
    event_type: zwave_js_value_notification
    event_data:
      device_id: !input zooz_switch

action:
  - variables:
      scene_id: "{{ trigger.event.data.property_key }}"
      scene_data: "{{ trigger.event.data.value }}"
  - choose:
    - conditions: "{{ scene_id == '001' and scene_data == 0 }}"
      sequence: !input off_1x
    - conditions: "{{ scene_id == '002' and scene_data == 0 }}"
      sequence: !input on_1x
    - conditions: "{{ scene_id == '001' and scene_data == 3 }}"
      sequence: !input off_2x
    - conditions: "{{ scene_id == '002' and scene_data == 3 }}"
      sequence: !input on_2x
    - conditions: "{{ scene_id == '001' and scene_data == 4 }}"
      sequence: !input off_3x
    - conditions: "{{ scene_id == '002' and scene_data == 4 }}"
      sequence: !input on_3x
    - conditions: "{{ scene_id == '001' and scene_data == 5 }}"
      sequence: !input off_4x
    - conditions: "{{ scene_id == '002' and scene_data == 5 }}"
      sequence: !input on_4x
    - conditions: "{{ scene_id == '001' and scene_data == 6 }}"
      sequence: !input off_5x
    - conditions: "{{ scene_id == '002' and scene_data == 6 }}"
      sequence: !input on_5x
    - conditions: "{{ scene_id == '001' and scene_data == 1 }}"
      sequence: !input off_held
    - conditions: "{{ scene_id == '002' and scene_data == 1 }}"
      sequence: !input on_held
    - conditions: "{{ scene_id == '001' and scene_data == 2 }}"
      sequence: !input off_released
    - conditions: "{{ scene_id == '002' and scene_data == 2 }}"
      sequence: !input on_released
